{% extends "base.html" %}

{% block content %}
<div class="content-section">
    <h1 class="text-center mb-4">To-Do List</h1>
    {% if current_user.is_authenticated %}
    <form action="{{ url_for('views.add') }}" method="post" class="mb-4">
        <div class="input-group">
            <input type="text" name="todo" class="form-control" placeholder="Enter a new todo" required>
            <button class="btn btn-primary" type="submit">Add</button>
        </div>
    </form>
    <ul class="list-group list-group-flush">
        {% for todo in todos %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ todo.text }}
            <a href="{{ url_for('views.delete', todo_id=todo.id) }}" class="btn btn-sm btn-outline-danger">Delete</a>
        </li>
        {% else %}
        <li class="list-group-item text-muted">No to-do items yet.</li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-center">Please <a href="{{ url_for('auth.login') }}">log in</a> or <a
            href="{{ url_for('auth.register') }}">register</a> to see your to-do list.</p>
    {% endif %}
</div>
{% endblock %}